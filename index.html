<!DOCTYPE html>
<html>

<head>
    <title>Hello world</title>
</head>
<script src="/socket.io/socket.io.js"></script>
<script>
    var socket = io();

    socket.emit('join', 7)

    socket.on('on_new_message', function (data) {
        console.log("on_new_message -------> " + JSON.stringify(data));
    });

    socket.on('on_delete_message', function (data) {
        console.log("on_delete_message -------> " + JSON.stringify(data));
    });

    socket.on('on_user_status_update', function (data) {
        console.log("on_user_status_update -------> " + JSON.stringify(data));
    });

    socket.on('on_chat_user_block', function (data) {
        console.log("on_chat_user_block -------> " + JSON.stringify(data));
    });

    socket.on('on_new_chat_create', function (data) {
        console.log("on_new_chat_create -------> " + JSON.stringify(data));
    });

    socket.on('on_message_status_update', function (data) {
        console.log("on_message_status_update -------> " + JSON.stringify(data));
    });

    var onPressBtn = () => {
        socket.emit('send_message', {
            "temp_id": 351635,
            "chat_id": 1,
            "sender_id": 7,
            "msg": "This message from 7",
            "attachment_url": "",
            "attachment_type": "",
            "attachment_name": "test name"
        });
    }

    var onPressReceive = () => {
        socket.emit('message_received', { "chat_id": 1, "message_id": [113, 114, 115], "is_read": false });
    }

    var onPressReadAll = () => {
        socket.emit('message_read_all', { "chat_id": 1, 'user_id': 7 });
    }

</script>

<body>
    <button onclick="onPressBtn()" type="button">Send Message</button>
    <button onclick="onPressReceive()" type="button">Message Received</button>
    <button onclick="onPressReadAll()" type="button">Message Read All</button>
</body>

</html>